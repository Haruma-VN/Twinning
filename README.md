# TwinKleS ToolKit

by TwinKleS-China

## 模块

* Core
	
	核心功能的实现，以动态库形式分发。

* Shell
	
	面向用户的外壳程序，提供基于终端的命令行界面。

* Script
	
	与 Core 及 Shell 配合使用的脚本。

* Windows Explorer Extension
	
	适用于 Windows 的资源管理器拓展，将 ToolKit 集成至系统资源管理器的右键菜单中。

## 平台支持

* 操作系统
	
	* Windows | Linux | MacOS
	
	* Android | iOS

* 处理器架构
	
	* x86_32 | x86_64
	
	* arm_32 | arm_64

**注意**：对于 Windows / Linux / MacOS ，只提供 x86_64 处理器架构的分发；对于 Android / iOS ，只提供 arm_64 处理器架构的分发。如有面向其他平台的需要，请自行克隆并编译本项目。

## 开源说明

本项目使用 GPL 协议，可以随意使用与修改，但使用本项目的项目也须开源并使用 GPL 协议。

## 说明

* **Shell 程序** 对宿主终端的要求
	
	Shell 需要宿主终端支持 **虚拟终端控制序列** 、 **UTF-8 输入/输出** 及 **（可选的）完备 Unicode 支持** 。
	
	有些操作系统的默认终端不提供（或默认关闭）这些支持，需要用户安装第三方终端并在其中运行本程序。
	
	Windows 7 / 8 自带 CMD 不提供支持，推荐使用 **cmder** ； Windows 10 / 11 自带 CMD 默认关闭支持，推荐使用 **Windows Terminal** ( Windows 11 可将其设置为默认终端 ) 。
	
	Android 推荐使用 **Termux** 。

* 在 Android 上使用的注意点
	
	1. 与在其他操作系统中一样，可执行文件的运行需要文件具备可执行权限，但在 Android 中， FUSE 的文件权限是硬编码、无法修改的。因此，程序不可放置于作为 FUSE 的 **sdcard 存储** 下，而是应放置于其他 **非 FUSE 存储** 中，这意味着用户需要使用 **ROOT** 权限来进行文件的移动与赋权。
	
	2. 由于 **Android 7** 引入的 **链接器命名空间** 机制，程序无法加载系统库目录（ 主要是 /system/lib\[64\] ）与私有库目录（对于本程序而言，这是不存在的）之外的动态库。因此，若要在 Android 7+ 上使用本程序，须将所需的 Core 动态库放置于 **系统库目录** 内，并且不应在传入库文件路径时指定完整路径，而应提供库文件在系统库目录中的 **文件名** 。
	
	3. 出于安全性与减小体积的考虑，程序使用的 C++ 运行时 为 c++_shared 。因此，用户还需要将对应处理器架构的 **libc++_shared.so** 复制到程序可达的库目录中（如：系统库目录）。该文件可从 NDK 工具链中提取。

* 在 iOS 上使用的注意点
	
	1. 在 iOS 设备上运行需要 **越狱环境** 。
	
	2. 在 iOS 上运行可执行文件需要通过签名验证，Release 页所分发的程序文件未经过签名，用户需要自行对其进行签名，才能在 iOS 中正常运行，否则将导致 Shell 程序无法启动、 Core 库无法加载的问题。
